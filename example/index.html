<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue</title>
</head>
<body>
    <div id = "app"></div>
</body>
</html>
<script src="../dist/vue.js"></script>
<script>
    // const {
    //     createApp,
    //     reactive,
    //     computed,
    //     watchEffect
    // } = Vue;
    // const MyComponent = {
    //     template: `
    //         <button @click="click">
    //         {{ state.message }}
    //         </button>
    //     `,
    //     setup() {
    //         const state = reactive({
    //             message:'Hello Vue 3!!'
    //         })
    //         watchEffect(() => {
    //             console.log('state change ', state.message)
    //         })
    //         function click() {
    //             state.message = state.message.split('').reverse().join('')
    //         }
    //         return {
    //             state,
    //             click
    //         }
    //     }
    // }
    // createApp(MyComponent).mount('#app')

    const {
        createApp,
        reactive,
        effect,
        ref,
        computed
    } = Vue;

    const state = reactive({
        count: 0,
        deep: {
            val: 1
        }
    })
    // const num = ref(0);
    const res = computed(() => {
        console.log('这里被执行了')
        return state.count++
    })
    // const runner = effect(() => {
    //     console.log(111111, state.count)
    // })
    // // state.count = 10
    // const otherRunner = effect(runner)
    // state.count = 11
    // console.log(runner)
    // console.log(otherRunner)
    
    effect(() => {
        console.log(111111, state.deep.val, state.count)
    })

    // num.value.s = 20
    // setTimeout(() => {
    //     state.count = 20
    //     state.count = 21
    // })
    state.count = 21
    // state.deep.val = 200
</script>